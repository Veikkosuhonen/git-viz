const __vite__fileDeps=["assets/FDG-CDkpmCEx.js","assets/web-DQAYnutL.js","assets/transform-Dm26MUf-.js","assets/Pack-UyyFLdPr.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{e as Z,w as $e,F as se,G as ke,a as pe,u as Ve,H as fe,I as Je,i as K,j as ge,b as $,J as Ye,M as le,S as qe,k as ze,K as je,t as te}from"./web-DQAYnutL.js";import{_ as we}from"./preload-helper-CBfY8fPV.js";function xe(r){const[e,t]=Z();return r().then(i=>t(()=>i.default)),i=>{let n,s;const[,o]=$e(i,["fallback"]);if((n=e())&&!se.context)return n(o);const[l,a]=Z(!se.context);return ke(()=>a(!0)),pe(()=>(n=e(),s=l(),Ve(()=>n&&s?n(o):i.fallback)))}}var ae=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},C=[],O=[],Qe=typeof Uint8Array<"u"?Uint8Array:Array,re=!1;function ye(){re=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,t=r.length;e<t;++e)C[e]=r[e],O[r.charCodeAt(e)]=e;O[45]=62,O[95]=63}function Ge(r){re||ye();var e,t,i,n,s,o,l=r.length;if(l%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=r[l-2]==="="?2:r[l-1]==="="?1:0,o=new Qe(l*3/4-s),i=s>0?l-4:l;var a=0;for(e=0,t=0;e<i;e+=4,t+=3)n=O[r.charCodeAt(e)]<<18|O[r.charCodeAt(e+1)]<<12|O[r.charCodeAt(e+2)]<<6|O[r.charCodeAt(e+3)],o[a++]=n>>16&255,o[a++]=n>>8&255,o[a++]=n&255;return s===2?(n=O[r.charCodeAt(e)]<<2|O[r.charCodeAt(e+1)]>>4,o[a++]=n&255):s===1&&(n=O[r.charCodeAt(e)]<<10|O[r.charCodeAt(e+1)]<<4|O[r.charCodeAt(e+2)]>>2,o[a++]=n>>8&255,o[a++]=n&255),o}function He(r){return C[r>>18&63]+C[r>>12&63]+C[r>>6&63]+C[r&63]}function We(r,e,t){for(var i,n=[],s=e;s<t;s+=3)i=(r[s]<<16)+(r[s+1]<<8)+r[s+2],n.push(He(i));return n.join("")}function ue(r){re||ye();for(var e,t=r.length,i=t%3,n="",s=[],o=16383,l=0,a=t-i;l<a;l+=o)s.push(We(r,l,l+o>a?a:l+o));return i===1?(e=r[t-1],n+=C[e>>2],n+=C[e<<4&63],n+="=="):i===2&&(e=(r[t-2]<<8)+r[t-1],n+=C[e>>10],n+=C[e>>4&63],n+=C[e<<2&63],n+="="),s.push(n),s.join("")}function j(r,e,t,i,n){var s,o,l=n*8-i-1,a=(1<<l)-1,u=a>>1,h=-7,c=t?n-1:0,w=t?-1:1,y=r[e+c];for(c+=w,s=y&(1<<-h)-1,y>>=-h,h+=l;h>0;s=s*256+r[e+c],c+=w,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=i;h>0;o=o*256+r[e+c],c+=w,h-=8);if(s===0)s=1-u;else{if(s===a)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-u}return(y?-1:1)*o*Math.pow(2,s-i)}function Ee(r,e,t,i,n,s){var o,l,a,u=s*8-n-1,h=(1<<u)-1,c=h>>1,w=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=i?0:s-1,F=i?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=h):(o=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-o))<1&&(o--,a*=2),o+c>=1?e+=w/a:e+=w*Math.pow(2,1-c),e*a>=2&&(o++,a/=2),o+c>=h?(l=0,o=h):o+c>=1?(l=(e*a-1)*Math.pow(2,n),o=o+c):(l=e*Math.pow(2,c-1)*Math.pow(2,n),o=0));n>=8;r[t+y]=l&255,y+=F,l/=256,n-=8);for(o=o<<n|l,u+=n;u>0;r[t+y]=o&255,y+=F,o/=256,u-=8);r[t+y-F]|=x*128}var Xe={}.toString,Ie=Array.isArray||function(r){return Xe.call(r)=="[object Array]"},Ze=50;f.TYPED_ARRAY_SUPPORT=ae.TYPED_ARRAY_SUPPORT!==void 0?ae.TYPED_ARRAY_SUPPORT:!0;q();function q(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function B(r,e){if(q()<e)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=f.prototype):(r===null&&(r=new f(e)),r.length=e),r}function f(r,e,t){if(!f.TYPED_ARRAY_SUPPORT&&!(this instanceof f))return new f(r,e,t);if(typeof r=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return ie(this,r)}return Se(this,r,e,t)}f.poolSize=8192;f._augment=function(r){return r.__proto__=f.prototype,r};function Se(r,e,t,i){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?tt(r,e,t,i):typeof e=="string"?et(r,e,t):rt(r,e)}f.from=function(r,e,t){return Se(null,r,e,t)};f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&f[Symbol.species]);function be(r){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function Ke(r,e,t,i){return be(e),e<=0?B(r,e):t!==void 0?typeof i=="string"?B(r,e).fill(t,i):B(r,e).fill(t):B(r,e)}f.alloc=function(r,e,t){return Ke(null,r,e,t)};function ie(r,e){if(be(e),r=B(r,e<0?0:ne(e)|0),!f.TYPED_ARRAY_SUPPORT)for(var t=0;t<e;++t)r[t]=0;return r}f.allocUnsafe=function(r){return ie(null,r)};f.allocUnsafeSlow=function(r){return ie(null,r)};function et(r,e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!f.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var i=Re(e,t)|0;r=B(r,i);var n=r.write(e,t);return n!==i&&(r=r.slice(0,n)),r}function ee(r,e){var t=e.length<0?0:ne(e.length)|0;r=B(r,t);for(var i=0;i<t;i+=1)r[i]=e[i]&255;return r}function tt(r,e,t,i){if(e.byteLength,t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(i||0))throw new RangeError("'length' is out of bounds");return t===void 0&&i===void 0?e=new Uint8Array(e):i===void 0?e=new Uint8Array(e,t):e=new Uint8Array(e,t,i),f.TYPED_ARRAY_SUPPORT?(r=e,r.__proto__=f.prototype):r=ee(r,e),r}function rt(r,e){if(D(e)){var t=ne(e.length)|0;return r=B(r,t),r.length===0||e.copy(r,0,0,t),r}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||Et(e.length)?B(r,0):ee(r,e);if(e.type==="Buffer"&&Ie(e.data))return ee(r,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function ne(r){if(r>=q())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+q().toString(16)+" bytes");return r|0}f.isBuffer=N;function D(r){return!!(r!=null&&r._isBuffer)}f.compare=function(e,t){if(!D(e)||!D(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};f.concat=function(e,t){if(!Ie(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return f.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=f.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var o=e[i];if(!D(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,s),s+=o.length}return n};function Re(r,e){if(D(r))return r.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var t=r.length;if(t===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return z(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return De(r).length;default:if(i)return z(r).length;e=(""+e).toLowerCase(),i=!0}}f.byteLength=Re;function it(r,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return _t(this,e,t);case"utf8":case"utf-8":return Ne(this,e,t);case"ascii":return ct(this,e,t);case"latin1":case"binary":return ht(this,e,t);case"base64":return at(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mt(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}f.prototype._isBuffer=!0;function k(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}f.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)k(this,t,t+1);return this};f.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)k(this,t,t+3),k(this,t+1,t+2);return this};f.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)k(this,t,t+7),k(this,t+1,t+6),k(this,t+2,t+5),k(this,t+3,t+4);return this};f.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?Ne(this,0,e):it.apply(this,arguments)};f.prototype.equals=function(e){if(!D(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:f.compare(this,e)===0};f.prototype.inspect=function(){var e="",t=Ze;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"};f.prototype.compare=function(e,t,i,n,s){if(!D(e))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,l=i-t,a=Math.min(o,l),u=this.slice(n,s),h=e.slice(t,i),c=0;c<a;++c)if(u[c]!==h[c]){o=u[c],l=h[c];break}return o<l?-1:l<o?1:0};function Ae(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=f.from(e,i)),D(e))return e.length===0?-1:ce(r,e,t,i,n);if(typeof e=="number")return e=e&255,f.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):ce(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function ce(r,e,t,i,n){var s=1,o=r.length,l=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,l/=2,t/=2}function a(y,F){return s===1?y[F]:y.readUInt16BE(F*s)}var u;if(n){var h=-1;for(u=t;u<o;u++)if(a(r,u)===a(e,h===-1?0:u-h)){if(h===-1&&(h=u),u-h+1===l)return h*s}else h!==-1&&(u-=u-h),h=-1}else for(t+l>o&&(t=o-l),u=t;u>=0;u--){for(var c=!0,w=0;w<l;w++)if(a(r,u+w)!==a(e,w)){c=!1;break}if(c)return u}return-1}f.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};f.prototype.indexOf=function(e,t,i){return Ae(this,e,t,i,!0)};f.prototype.lastIndexOf=function(e,t,i){return Ae(this,e,t,i,!1)};function nt(r,e,t,i){t=Number(t)||0;var n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;if(s%2!==0)throw new TypeError("Invalid hex string");i>s/2&&(i=s/2);for(var o=0;o<i;++o){var l=parseInt(e.substr(o*2,2),16);if(isNaN(l))return o;r[t+o]=l}return o}function ot(r,e,t,i){return H(z(e,r.length-t),r,t,i)}function Oe(r,e,t,i){return H(xt(e),r,t,i)}function st(r,e,t,i){return Oe(r,e,t,i)}function ft(r,e,t,i){return H(De(e),r,t,i)}function lt(r,e,t,i){return H(yt(e,r.length-t),r,t,i)}f.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t|0,isFinite(i)?(i=i|0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return nt(this,e,t,i);case"utf8":case"utf-8":return ot(this,e,t,i);case"ascii":return Oe(this,e,t,i);case"latin1":case"binary":return st(this,e,t,i);case"base64":return ft(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function at(r,e,t){return e===0&&t===r.length?ue(r):ue(r.slice(e,t))}function Ne(r,e,t){t=Math.min(r.length,t);for(var i=[],n=e;n<t;){var s=r[n],o=null,l=s>239?4:s>223?3:s>191?2:1;if(n+l<=t){var a,u,h,c;switch(l){case 1:s<128&&(o=s);break;case 2:a=r[n+1],(a&192)===128&&(c=(s&31)<<6|a&63,c>127&&(o=c));break;case 3:a=r[n+1],u=r[n+2],(a&192)===128&&(u&192)===128&&(c=(s&15)<<12|(a&63)<<6|u&63,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:a=r[n+1],u=r[n+2],h=r[n+3],(a&192)===128&&(u&192)===128&&(h&192)===128&&(c=(s&15)<<18|(a&63)<<12|(u&63)<<6|h&63,c>65535&&c<1114112&&(o=c))}}o===null?(o=65533,l=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=l}return ut(i)}var he=4096;function ut(r){var e=r.length;if(e<=he)return String.fromCharCode.apply(String,r);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=he));return t}function ct(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function ht(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function _t(r,e,t){var i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var n="",s=e;s<t;++s)n+=wt(r[s]);return n}function mt(r,e,t){for(var i=r.slice(e,t),n="",s=0;s<i.length;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}f.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n;if(f.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=f.prototype;else{var s=t-e;n=new f(s,void 0);for(var o=0;o<s;++o)n[o]=this[o+e]}return n};function I(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUIntLE=function(e,t,i){e=e|0,t=t|0,i||I(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n};f.prototype.readUIntBE=function(e,t,i){e=e|0,t=t|0,i||I(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n};f.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]};f.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8};f.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]};f.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};f.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};f.prototype.readIntLE=function(e,t,i){e=e|0,t=t|0,i||I(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};f.prototype.readIntBE=function(e,t,i){e=e|0,t=t|0,i||I(e,t,this.length);for(var n=t,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};f.prototype.readInt8=function(e,t){return t||I(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};f.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};f.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};f.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};f.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};f.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),j(this,e,!0,23,4)};f.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),j(this,e,!1,23,4)};f.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),j(this,e,!0,52,8)};f.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),j(this,e,!1,52,8)};function A(r,e,t,i,n,s){if(!D(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}f.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t|0,i=i|0,!n){var s=Math.pow(2,8*i)-1;A(this,e,t,i,s,0)}var o=1,l=0;for(this[t]=e&255;++l<i&&(o*=256);)this[t+l]=e/o&255;return t+i};f.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t|0,i=i|0,!n){var s=Math.pow(2,8*i)-1;A(this,e,t,i,s,0)}var o=i-1,l=1;for(this[t+o]=e&255;--o>=0&&(l*=256);)this[t+o]=e/l&255;return t+i};f.prototype.writeUInt8=function(e,t,i){return e=+e,t=t|0,i||A(this,e,t,1,255,0),f.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e&255,t+1};function Q(r,e,t,i){e<0&&(e=65535+e+1);for(var n=0,s=Math.min(r.length-t,2);n<s;++n)r[t+n]=(e&255<<8*(i?n:1-n))>>>(i?n:1-n)*8}f.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t|0,i||A(this,e,t,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):Q(this,e,t,!0),t+2};f.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t|0,i||A(this,e,t,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):Q(this,e,t,!1),t+2};function G(r,e,t,i){e<0&&(e=4294967295+e+1);for(var n=0,s=Math.min(r.length-t,4);n<s;++n)r[t+n]=e>>>(i?n:3-n)*8&255}f.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t|0,i||A(this,e,t,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255):G(this,e,t,!0),t+4};f.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t|0,i||A(this,e,t,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):G(this,e,t,!1),t+4};f.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t|0,!n){var s=Math.pow(2,8*i-1);A(this,e,t,i,s-1,-s)}var o=0,l=1,a=0;for(this[t]=e&255;++o<i&&(l*=256);)e<0&&a===0&&this[t+o-1]!==0&&(a=1),this[t+o]=(e/l>>0)-a&255;return t+i};f.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t|0,!n){var s=Math.pow(2,8*i-1);A(this,e,t,i,s-1,-s)}var o=i-1,l=1,a=0;for(this[t+o]=e&255;--o>=0&&(l*=256);)e<0&&a===0&&this[t+o+1]!==0&&(a=1),this[t+o]=(e/l>>0)-a&255;return t+i};f.prototype.writeInt8=function(e,t,i){return e=+e,t=t|0,i||A(this,e,t,1,127,-128),f.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=e&255,t+1};f.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t|0,i||A(this,e,t,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):Q(this,e,t,!0),t+2};f.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t|0,i||A(this,e,t,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):Q(this,e,t,!1),t+2};f.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t|0,i||A(this,e,t,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):G(this,e,t,!0),t+4};f.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t|0,i||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),f.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):G(this,e,t,!1),t+4};function Fe(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Te(r,e,t,i,n){return n||Fe(r,e,t,4),Ee(r,e,t,i,23,4),t+4}f.prototype.writeFloatLE=function(e,t,i){return Te(this,e,t,!0,i)};f.prototype.writeFloatBE=function(e,t,i){return Te(this,e,t,!1,i)};function Ce(r,e,t,i,n){return n||Fe(r,e,t,8),Ee(r,e,t,i,52,8),t+8}f.prototype.writeDoubleLE=function(e,t,i){return Ce(this,e,t,!0,i)};f.prototype.writeDoubleBE=function(e,t,i){return Ce(this,e,t,!1,i)};f.prototype.copy=function(e,t,i,n){if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var s=n-i,o;if(this===e&&i<t&&t<n)for(o=s-1;o>=0;--o)e[o+t]=this[o+i];else if(s<1e3||!f.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+t]=this[o+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+s),t);return s};f.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),e.length===1){var s=e.charCodeAt(0);s<256&&(e=s)}if(n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else typeof e=="number"&&(e=e&255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{var l=D(e)?e:z(new f(e,n).toString()),a=l.length;for(o=0;o<i-t;++o)this[o+t]=l[o%a]}return this};var dt=/[^+\/0-9A-Za-z-_]/g;function pt(r){if(r=gt(r).replace(dt,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function gt(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function wt(r){return r<16?"0"+r.toString(16):r.toString(16)}function z(r,e){e=e||1/0;for(var t,i=r.length,n=null,s=[],o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function xt(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function yt(r,e){for(var t,i,n,s=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function De(r){return Ge(pt(r))}function H(r,e,t,i){for(var n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function Et(r){return r!==r}function N(r){return r!=null&&(!!r._isBuffer||ve(r)||It(r))}function ve(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function It(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&ve(r.slice(0,0))}class m extends Error{constructor(e,t,i,...n){Array.isArray(t)&&(t=t.join(" ").trim()),super(t),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,m),this.code=e;for(const s of n)for(const o in s){const l=s[o];this[o]=N(l)?l.toString(i.encoding):l==null?l:JSON.parse(JSON.stringify(l))}}}const St=function(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)},Be=function(r){const e=[];for(let t=0,i=r.length;t<i;t++){const n=r[t];if(n==null||n===!1)e[t]={disabled:!0};else if(typeof n=="string")e[t]={name:n};else if(St(n)){if(typeof n.name!="string")throw new m("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${t}`,"when column is an object literal"]);e[t]=n}else throw new m("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(n)} at position ${t}`])}return e};class _e{constructor(e=100){this.size=e,this.length=0,this.buf=f.allocUnsafe(e)}prepend(e){if(N(e)){const t=this.length+e.length;if(t>=this.size&&(this.resize(),t>=this.size))throw Error("INVALID_BUFFER_STATE");const i=this.buf;this.buf=f.allocUnsafe(this.size),e.copy(this.buf,0),i.copy(this.buf,e.length),this.length+=e.length}else{const t=this.length++;t===this.size&&this.resize();const i=this.clone();this.buf[0]=e,i.copy(this.buf,1,0,t)}}append(e){const t=this.length++;t===this.size&&this.resize(),this.buf[t]=e}clone(){return f.from(this.buf.slice(0,this.length))}resize(){const e=this.length;this.size=this.size*2;const t=f.allocUnsafe(this.size);this.buf.copy(t,0,0,e),this.buf=t}toString(e){return e?this.buf.slice(0,this.length).toString(e):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}}const bt=12,Rt=13,At=10,Ot=32,Nt=9,Ft=function(r){return{bomSkipped:!1,bufBytesStart:0,castField:r.cast_function,commenting:!1,error:void 0,enabled:r.from_line===1,escaping:!1,escapeIsQuote:N(r.escape)&&N(r.quote)&&f.compare(r.escape,r.quote)===0,expectedRecordLength:Array.isArray(r.columns)?r.columns.length:void 0,field:new _e(20),firstLineToHeaders:r.cast_first_line_to_header,needMoreDataSize:Math.max(r.comment!==null?r.comment.length:0,...r.delimiter.map(e=>e.length),r.quote!==null?r.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new _e(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:r.record_delimiter.length===0?0:Math.max(...r.record_delimiter.map(e=>e.length)),trimChars:[f.from(" ",r.encoding)[0],f.from("	",r.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[f.from(f.from([Rt],"utf8").toString(),r.encoding),f.from(f.from([At],"utf8").toString(),r.encoding),f.from(f.from([bt],"utf8").toString(),r.encoding),f.from(f.from([Ot],"utf8").toString(),r.encoding),f.from(f.from([Nt],"utf8").toString(),r.encoding)]}},Tt=function(r){return r.replace(/([A-Z])/g,function(e,t){return"_"+t.toLowerCase()})},me=function(r){const e={};for(const i in r)e[Tt(i)]=r[i];if(e.encoding===void 0||e.encoding===!0)e.encoding="utf8";else if(e.encoding===null||e.encoding===!1)e.encoding=null;else if(typeof e.encoding!="string"&&e.encoding!==null)throw new m("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(e.encoding)}`],e);if(e.bom===void 0||e.bom===null||e.bom===!1)e.bom=!1;else if(e.bom!==!0)throw new m("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(e.bom)}`],e);if(e.cast_function=null,e.cast===void 0||e.cast===null||e.cast===!1||e.cast==="")e.cast=void 0;else if(typeof e.cast=="function")e.cast_function=e.cast,e.cast=!0;else if(e.cast!==!0)throw new m("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(e.cast)}`],e);if(e.cast_date===void 0||e.cast_date===null||e.cast_date===!1||e.cast_date==="")e.cast_date=!1;else if(e.cast_date===!0)e.cast_date=function(i){const n=Date.parse(i);return isNaN(n)?i:new Date(n)};else if(typeof e.cast_date!="function")throw new m("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(e.cast_date)}`],e);if(e.cast_first_line_to_header=null,e.columns===!0)e.cast_first_line_to_header=void 0;else if(typeof e.columns=="function")e.cast_first_line_to_header=e.columns,e.columns=!0;else if(Array.isArray(e.columns))e.columns=Be(e.columns);else if(e.columns===void 0||e.columns===null||e.columns===!1)e.columns=!1;else throw new m("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(e.columns)}`],e);if(e.group_columns_by_name===void 0||e.group_columns_by_name===null||e.group_columns_by_name===!1)e.group_columns_by_name=!1;else{if(e.group_columns_by_name!==!0)throw new m("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(e.group_columns_by_name)}`],e);if(e.columns===!1)throw new m("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],e)}if(e.comment===void 0||e.comment===null||e.comment===!1||e.comment==="")e.comment=null;else if(typeof e.comment=="string"&&(e.comment=f.from(e.comment,e.encoding)),!N(e.comment))throw new m("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(e.comment)}`],e);if(e.comment_no_infix===void 0||e.comment_no_infix===null||e.comment_no_infix===!1)e.comment_no_infix=!1;else if(e.comment_no_infix!==!0)throw new m("CSV_INVALID_OPTION_COMMENT",["Invalid option comment_no_infix:","value must be a boolean,",`got ${JSON.stringify(e.comment_no_infix)}`],e);const t=JSON.stringify(e.delimiter);if(Array.isArray(e.delimiter)||(e.delimiter=[e.delimiter]),e.delimiter.length===0)throw new m("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${t}`],e);if(e.delimiter=e.delimiter.map(function(i){if(i==null||i===!1)return f.from(",",e.encoding);if(typeof i=="string"&&(i=f.from(i,e.encoding)),!N(i)||i.length===0)throw new m("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${t}`],e);return i}),e.escape===void 0||e.escape===!0?e.escape=f.from('"',e.encoding):typeof e.escape=="string"?e.escape=f.from(e.escape,e.encoding):(e.escape===null||e.escape===!1)&&(e.escape=null),e.escape!==null&&!N(e.escape))throw new Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(e.escape)}`);if(e.from===void 0||e.from===null)e.from=1;else if(typeof e.from=="string"&&/\d+/.test(e.from)&&(e.from=parseInt(e.from)),Number.isInteger(e.from)){if(e.from<0)throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(r.from)}`)}else throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(e.from)}`);if(e.from_line===void 0||e.from_line===null)e.from_line=1;else if(typeof e.from_line=="string"&&/\d+/.test(e.from_line)&&(e.from_line=parseInt(e.from_line)),Number.isInteger(e.from_line)){if(e.from_line<=0)throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(r.from_line)}`)}else throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(r.from_line)}`);if(e.ignore_last_delimiters===void 0||e.ignore_last_delimiters===null)e.ignore_last_delimiters=!1;else if(typeof e.ignore_last_delimiters=="number")e.ignore_last_delimiters=Math.floor(e.ignore_last_delimiters),e.ignore_last_delimiters===0&&(e.ignore_last_delimiters=!1);else if(typeof e.ignore_last_delimiters!="boolean")throw new m("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(e.ignore_last_delimiters)}`],e);if(e.ignore_last_delimiters===!0&&e.columns===!1)throw new m("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],e);if(e.info===void 0||e.info===null||e.info===!1)e.info=!1;else if(e.info!==!0)throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(e.info)}`);if(e.max_record_size===void 0||e.max_record_size===null||e.max_record_size===!1)e.max_record_size=0;else if(!(Number.isInteger(e.max_record_size)&&e.max_record_size>=0))if(typeof e.max_record_size=="string"&&/\d+/.test(e.max_record_size))e.max_record_size=parseInt(e.max_record_size);else throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(e.max_record_size)}`);if(e.objname===void 0||e.objname===null||e.objname===!1)e.objname=void 0;else if(N(e.objname)){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty buffer");e.encoding===null||(e.objname=e.objname.toString(e.encoding))}else if(typeof e.objname=="string"){if(e.objname.length===0)throw new Error("Invalid Option: objname must be a non empty string")}else if(typeof e.objname!="number")throw new Error(`Invalid Option: objname must be a string or a buffer, got ${e.objname}`);if(e.objname!==void 0){if(typeof e.objname=="number"){if(e.columns!==!1)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(e.columns===!1)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}if(e.on_record===void 0||e.on_record===null)e.on_record=void 0;else if(typeof e.on_record!="function")throw new m("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(e.on_record)}`],e);if(e.quote===null||e.quote===!1||e.quote==="")e.quote=null;else if(e.quote===void 0||e.quote===!0?e.quote=f.from('"',e.encoding):typeof e.quote=="string"&&(e.quote=f.from(e.quote,e.encoding)),!N(e.quote))throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(e.quote)}`);if(e.raw===void 0||e.raw===null||e.raw===!1)e.raw=!1;else if(e.raw!==!0)throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(e.raw)}`);if(e.record_delimiter===void 0)e.record_delimiter=[];else if(typeof e.record_delimiter=="string"||N(e.record_delimiter)){if(e.record_delimiter.length===0)throw new m("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);e.record_delimiter=[e.record_delimiter]}else if(!Array.isArray(e.record_delimiter))throw new m("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(e.record_delimiter)}`],e);if(e.record_delimiter=e.record_delimiter.map(function(i,n){if(typeof i!="string"&&!N(i))throw new m("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${n},`,`got ${JSON.stringify(i)}`],e);if(i.length===0)throw new m("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${n},`,`got ${JSON.stringify(i)}`],e);return typeof i=="string"&&(i=f.from(i,e.encoding)),i}),typeof e.relax_column_count!="boolean")if(e.relax_column_count===void 0||e.relax_column_count===null)e.relax_column_count=!1;else throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(e.relax_column_count)}`);if(typeof e.relax_column_count_less!="boolean")if(e.relax_column_count_less===void 0||e.relax_column_count_less===null)e.relax_column_count_less=!1;else throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(e.relax_column_count_less)}`);if(typeof e.relax_column_count_more!="boolean")if(e.relax_column_count_more===void 0||e.relax_column_count_more===null)e.relax_column_count_more=!1;else throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(e.relax_column_count_more)}`);if(typeof e.relax_quotes!="boolean")if(e.relax_quotes===void 0||e.relax_quotes===null)e.relax_quotes=!1;else throw new Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(e.relax_quotes)}`);if(typeof e.skip_empty_lines!="boolean")if(e.skip_empty_lines===void 0||e.skip_empty_lines===null)e.skip_empty_lines=!1;else throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(e.skip_empty_lines)}`);if(typeof e.skip_records_with_empty_values!="boolean")if(e.skip_records_with_empty_values===void 0||e.skip_records_with_empty_values===null)e.skip_records_with_empty_values=!1;else throw new Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(e.skip_records_with_empty_values)}`);if(typeof e.skip_records_with_error!="boolean")if(e.skip_records_with_error===void 0||e.skip_records_with_error===null)e.skip_records_with_error=!1;else throw new Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(e.skip_records_with_error)}`);if(e.rtrim===void 0||e.rtrim===null||e.rtrim===!1)e.rtrim=!1;else if(e.rtrim!==!0)throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(e.rtrim)}`);if(e.ltrim===void 0||e.ltrim===null||e.ltrim===!1)e.ltrim=!1;else if(e.ltrim!==!0)throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(e.ltrim)}`);if(e.trim===void 0||e.trim===null||e.trim===!1)e.trim=!1;else if(e.trim!==!0)throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(e.trim)}`);if(e.trim===!0&&r.ltrim!==!1?e.ltrim=!0:e.ltrim!==!0&&(e.ltrim=!1),e.trim===!0&&r.rtrim!==!1?e.rtrim=!0:e.rtrim!==!0&&(e.rtrim=!1),e.to===void 0||e.to===null)e.to=-1;else if(typeof e.to=="string"&&/\d+/.test(e.to)&&(e.to=parseInt(e.to)),Number.isInteger(e.to)){if(e.to<=0)throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(r.to)}`)}else throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(r.to)}`);if(e.to_line===void 0||e.to_line===null)e.to_line=-1;else if(typeof e.to_line=="string"&&/\d+/.test(e.to_line)&&(e.to_line=parseInt(e.to_line)),Number.isInteger(e.to_line)){if(e.to_line<=0)throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(r.to_line)}`)}else throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(r.to_line)}`);return e},de=function(r){return r.every(e=>e==null||e.toString&&e.toString().trim()==="")},Ct=13,Dt=10,V={utf8:f.from([239,187,191]),utf16le:f.from([255,254])},vt=function(r={}){const e={bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},t=me(r);return{info:e,original_options:r,options:t,state:Ft(t),__needMoreData:function(i,n,s){if(s)return!1;const{encoding:o,escape:l,quote:a}=this.options,{quoting:u,needMoreDataSize:h,recordDelimiterMaxLength:c}=this.state,w=n-i-1,y=Math.max(h,c===0?f.from(`\r
`,o).length:c,u?(l===null?0:l.length)+a.length:0,u?a.length+c:0);return w<y},parse:function(i,n,s,o){const{bom:l,comment_no_infix:a,encoding:u,from_line:h,ltrim:c,max_record_size:w,raw:y,relax_quotes:F,rtrim:x,skip_empty_lines:U,to:b,to_line:g}=this.options;let{comment:d,escape:R,quote:T,record_delimiter:W}=this.options;const{bomSkipped:Ue,previousBuf:J,rawBuffer:Le,escapeIsQuote:Me}=this.state;let p;if(J===void 0)if(i===void 0){o();return}else p=i;else J!==void 0&&i===void 0?p=J:p=f.concat([J,i]);if(Ue===!1)if(l===!1)this.state.bomSkipped=!0;else if(p.length<3){if(n===!1){this.state.previousBuf=p;return}}else{for(const E in V)if(V[E].compare(p,0,V[E].length)===0){const L=V[E].length;this.state.bufBytesStart+=L,p=p.slice(L),this.options=me({...this.original_options,encoding:E}),{comment:d,escape:R,quote:T}=this.options;break}this.state.bomSkipped=!0}const X=p.length;let _;for(_=0;_<X&&!this.__needMoreData(_,X,n);_++){if(this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1),g!==-1&&this.info.lines>g){this.state.stop=!0,o();return}this.state.quoting===!1&&W.length===0&&this.__autoDiscoverRecordDelimiter(p,_)&&(W=this.options.record_delimiter);const E=p[_];if(y===!0&&Le.append(E),(E===Ct||E===Dt)&&this.state.wasRowDelimiter===!1&&(this.state.wasRowDelimiter=!0),this.state.escaping===!0)this.state.escaping=!1;else{if(R!==null&&this.state.quoting===!0&&this.__isEscape(p,_,E)&&_+R.length<X)if(Me){if(this.__isQuote(p,_+R.length)){this.state.escaping=!0,_+=R.length-1;continue}}else{this.state.escaping=!0,_+=R.length-1;continue}if(this.state.commenting===!1&&this.__isQuote(p,_))if(this.state.quoting===!0){const S=p[_+T.length],M=x&&this.__isCharTrimable(p,_+T.length),v=d!==null&&this.__compareBytes(d,p,_+T.length,S),P=this.__isDelimiter(p,_+T.length,S),Y=W.length===0?this.__autoDiscoverRecordDelimiter(p,_+T.length):this.__isRecordDelimiter(S,p,_+T.length);if(R!==null&&this.__isEscape(p,_,E)&&this.__isQuote(p,_+R.length))_+=R.length-1;else if(!S||P||Y||v||M){this.state.quoting=!1,this.state.wasQuoting=!0,_+=T.length-1;continue}else if(F===!1){const oe=this.__error(new m("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(S)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(oe!==void 0)return oe}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(T),_+=T.length-1}else if(this.state.field.length!==0){if(F===!1){const S=this.__infoField(),M=Object.keys(V).map(P=>V[P].equals(this.state.field.toString())?P:!1).filter(Boolean)[0],v=this.__error(new m("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(S.column)} at line ${S.lines}, value is ${JSON.stringify(this.state.field.toString(u))}`,M?`(${M} bom)`:void 0],this.options,S,{field:this.state.field}));if(v!==void 0)return v}}else{this.state.quoting=!0,_+=T.length-1;continue}if(this.state.quoting===!1){const S=this.__isRecordDelimiter(E,p,_);if(S!==0){if(this.state.commenting&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0)this.info.comment_lines++;else{if(this.state.enabled===!1&&this.info.lines+(this.state.wasRowDelimiter===!0?1:0)>=h){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),_+=S-1;continue}if(U===!0&&this.state.wasQuoting===!1&&this.state.record.length===0&&this.state.field.length===0){this.info.empty_lines++,_+=S-1;continue}this.info.bytes=this.state.bufBytesStart+_;const P=this.__onField();if(P!==void 0)return P;this.info.bytes=this.state.bufBytesStart+_+S;const Y=this.__onRecord(s);if(Y!==void 0)return Y;if(b!==-1&&this.info.records>=b){this.state.stop=!0,o();return}}this.state.commenting=!1,_+=S-1;continue}if(this.state.commenting)continue;if(d!==null&&(a===!1||this.state.record.length===0&&this.state.field.length===0)&&this.__compareBytes(d,p,_,E)!==0){this.state.commenting=!0;continue}const M=this.__isDelimiter(p,_,E);if(M!==0){this.info.bytes=this.state.bufBytesStart+_;const v=this.__onField();if(v!==void 0)return v;_+=M-1;continue}}}if(this.state.commenting===!1&&w!==0&&this.state.record_length+this.state.field.length>w)return this.__error(new m("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${w}`,`at line ${this.info.lines}`],this.options,this.__infoField()));const L=c===!1||this.state.quoting===!0||this.state.field.length!==0||!this.__isCharTrimable(p,_),Pe=x===!1||this.state.wasQuoting===!1;if(L===!0&&Pe===!0)this.state.field.append(E);else{if(x===!0&&!this.__isCharTrimable(p,_))return this.__error(new m("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));L===!1&&(_+=this.__isCharTrimable(p,_)-1);continue}}if(n===!0)if(this.state.quoting===!0){const E=this.__error(new m("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(E!==void 0)return E}else if(this.state.wasQuoting===!0||this.state.record.length!==0||this.state.field.length!==0){this.info.bytes=this.state.bufBytesStart+_;const E=this.__onField();if(E!==void 0)return E;const L=this.__onRecord(s);if(L!==void 0)return L}else this.state.wasRowDelimiter===!0?this.info.empty_lines++:this.state.commenting===!0&&this.info.comment_lines++;else this.state.bufBytesStart+=_,this.state.previousBuf=p.slice(_);this.state.wasRowDelimiter===!0&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(i){const{columns:n,group_columns_by_name:s,encoding:o,info:l,from:a,relax_column_count:u,relax_column_count_less:h,relax_column_count_more:c,raw:w,skip_records_with_empty_values:y}=this.options,{enabled:F,record:x}=this.state;if(F===!1)return this.__resetRecord();const U=x.length;if(n===!0){if(y===!0&&de(x)){this.__resetRecord();return}return this.__firstLineToColumns(x)}if(n===!1&&this.info.records===0&&(this.state.expectedRecordLength=U),U!==this.state.expectedRecordLength){const b=n===!1?new m("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${U} on line ${this.info.lines}`],this.options,this.__infoField(),{record:x}):new m("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${n.length},`,`got ${U} on line ${this.info.lines}`],this.options,this.__infoField(),{record:x});if(u===!0||h===!0&&U<this.state.expectedRecordLength||c===!0&&U>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=b;else{const g=this.__error(b);if(g)return g}}if(y===!0&&de(x)){this.__resetRecord();return}if(this.state.recordHasError===!0){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,a===1||this.info.records>=a){const{objname:b}=this.options;if(n!==!1){const g={};for(let d=0,R=x.length;d<R;d++)n[d]===void 0||n[d].disabled||(s===!0&&g[n[d].name]!==void 0?Array.isArray(g[n[d].name])?g[n[d].name]=g[n[d].name].concat(x[d]):g[n[d].name]=[g[n[d].name],x[d]]:g[n[d].name]=x[d]);if(w===!0||l===!0){const d=Object.assign({record:g},w===!0?{raw:this.state.rawBuffer.toString(o)}:{},l===!0?{info:this.__infoRecord()}:{}),R=this.__push(b===void 0?d:[g[b],d],i);if(R)return R}else{const d=this.__push(b===void 0?g:[g[b],g],i);if(d)return d}}else if(w===!0||l===!0){const g=Object.assign({record:x},w===!0?{raw:this.state.rawBuffer.toString(o)}:{},l===!0?{info:this.__infoRecord()}:{}),d=this.__push(b===void 0?g:[x[b],g],i);if(d)return d}else{const g=this.__push(b===void 0?x:[x[b],x],i);if(g)return g}}this.__resetRecord()},__firstLineToColumns:function(i){const{firstLineToHeaders:n}=this.state;try{const s=n===void 0?i:n.call(null,i);if(!Array.isArray(s))return this.__error(new m("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(s)}`],this.options,this.__infoField(),{headers:s}));const o=Be(s);this.state.expectedRecordLength=o.length,this.options.columns=o,this.__resetRecord();return}catch(s){return s}},__resetRecord:function(){this.options.raw===!0&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){const{cast:i,encoding:n,rtrim:s,max_record_size:o}=this.options,{enabled:l,wasQuoting:a}=this.state;if(l===!1)return this.__resetField();let u=this.state.field.toString(n);if(s===!0&&a===!1&&(u=u.trimRight()),i===!0){const[h,c]=this.__cast(u);if(h!==void 0)return h;u=c}this.state.record.push(u),o!==0&&typeof u=="string"&&(this.state.record_length+=u.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(i,n){const{on_record:s}=this.options;if(s!==void 0){const o=this.__infoRecord();try{i=s.call(null,i,o)}catch(l){return l}if(i==null)return}n(i)},__cast:function(i){const{columns:n,relax_column_count:s}=this.options;if(Array.isArray(n)===!0&&s&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(this.state.castField!==null)try{const l=this.__infoField();return[void 0,this.state.castField.call(null,i,l)]}catch(l){return[l]}if(this.__isFloat(i))return[void 0,parseFloat(i)];if(this.options.cast_date!==!1){const l=this.__infoField();return[void 0,this.options.cast_date.call(null,i,l)]}return[void 0,i]},__isCharTrimable:function(i,n){return((o,l)=>{const{timchars:a}=this.state;e:for(let u=0;u<a.length;u++){const h=a[u];for(let c=0;c<h.length;c++)if(h[c]!==o[l+c])continue e;return h.length}return 0})(i,n)},__isFloat:function(i){return i-parseFloat(i)+1>=0},__compareBytes:function(i,n,s,o){if(i[0]!==o)return 0;const l=i.length;for(let a=1;a<l;a++)if(i[a]!==n[s+a])return 0;return l},__isDelimiter:function(i,n,s){const{delimiter:o,ignore_last_delimiters:l}=this.options;if(l===!0&&this.state.record.length===this.options.columns.length-1)return 0;if(l!==!1&&typeof l=="number"&&this.state.record.length===l-1)return 0;e:for(let a=0;a<o.length;a++){const u=o[a];if(u[0]===s){for(let h=1;h<u.length;h++)if(u[h]!==i[n+h])continue e;return u.length}}return 0},__isRecordDelimiter:function(i,n,s){const{record_delimiter:o}=this.options,l=o.length;e:for(let a=0;a<l;a++){const u=o[a],h=u.length;if(u[0]===i){for(let c=1;c<h;c++)if(u[c]!==n[s+c])continue e;return u.length}}return 0},__isEscape:function(i,n,s){const{escape:o}=this.options;if(o===null)return!1;const l=o.length;if(o[0]===s){for(let a=0;a<l;a++)if(o[a]!==i[n+a])return!1;return!0}return!1},__isQuote:function(i,n){const{quote:s}=this.options;if(s===null)return!1;const o=s.length;for(let l=0;l<o;l++)if(s[l]!==i[n+l])return!1;return!0},__autoDiscoverRecordDelimiter:function(i,n){const{encoding:s}=this.options,o=[f.from(`\r
`,s),f.from(`
`,s),f.from("\r",s)];e:for(let l=0;l<o.length;l++){const a=o[l].length;for(let u=0;u<a;u++)if(o[l][u]!==i[n+u])continue e;return this.options.record_delimiter.push(o[l]),this.state.recordDelimiterMaxLength=o[l].length,o[l].length}return 0},__error:function(i){const{encoding:n,raw:s,skip_records_with_error:o}=this.options,l=typeof i=="string"?new Error(i):i;if(o){this.state.recordHasError=!0,this.options.on_skip!==void 0&&this.options.on_skip(l,s?this.state.rawBuffer.toString(n):void 0);return}else return l},__infoDataSet:function(){return{...this.info,columns:this.options.columns}},__infoRecord:function(){const{columns:i,raw:n,encoding:s}=this.options;return{...this.__infoDataSet(),error:this.state.error,header:i===!0,index:this.state.record.length,raw:n?this.state.rawBuffer.toString(s):void 0}},__infoField:function(){const{columns:i}=this.options,n=Array.isArray(i);return{...this.__infoRecord(),column:n===!0?i.length>this.state.record.length?i[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting}}}},Bt=function(r,e={}){typeof r=="string"&&(r=f.from(r));const t=e&&e.objname?{}:[],i=vt(e),n=a=>{i.options.objname===void 0?t.push(a):t[a[0]]=a[1]},s=()=>{},o=i.parse(r,!1,n,s);if(o!==void 0)throw o;const l=i.parse(void 0,!0,n,s);if(l!==void 0)throw l;return t};var Ut=te("<h1>Visualization"),Lt=te("<div><select><option value=pack>Pack</option><option value=fdg>Force-Directed Graph</option></select><section>");const Mt=xe(()=>we(()=>import("./FDG-CDkpmCEx.js"),__vite__mapDeps([0,1,2]))),Pt=xe(()=>we(()=>import("./Pack-UyyFLdPr.js"),__vite__mapDeps([3,2]))),$t=()=>{const[r]=fe(()=>fetch("http://localhost:3000/gptwrapper_file_tree.json").then(n=>n.json())),[e]=fe(()=>fetch("http://localhost:3000/gptwrapper_adjacency.csv").then(n=>n.text()).then(n=>Bt(n,{columns:!0,skip_empty_lines:!0})).then(n=>Object.fromEntries(n.map(s=>{const o=s[""],l=Object.fromEntries(Object.entries(s).filter(([a])=>a!=="").map(([a,u])=>[a,parseInt(u,10)]).filter(([,a])=>a>5));return[o,l]}))));Je(()=>{console.log(e())});const[t,i]=Z("fdg");return[K(Ut),(()=>{var n=K(Lt),s=n.firstChild,o=s.nextSibling;return s.addEventListener("change",l=>i(l.currentTarget.value)),o.style.setProperty("margin-top","2rem"),o.style.setProperty("border-radius","3rem"),o.style.setProperty("box-shadow","0 5px 1rem 0 rgba(0, 0, 1, 0.3)"),o.style.setProperty("border","1px solid rgba(0, 0, 0, 0.3)"),o.style.setProperty("overflow","hidden"),ge(o,$(qe,{get when(){return pe(()=>!!r())()&&e()},get children(){return $(Ye,{get children(){return[$(le,{get when(){return t()==="fdg"},get children(){return $(Mt,{get data(){return r()},get adjacencyData(){return e()}})}}),$(le,{get when(){return t()==="pack"},get children(){return $(Pt,{get data(){return r()}})}})]}})}})),ze(()=>je(s,"value",t())),n})()]};var kt=te('<main class="text-center mx-auto text-gray-700 p-4">');function Yt(){return(()=>{var r=K(kt);return ge(r,$($t,{})),r})()}export{Yt as default};
