import{e as $n,f as zn,R as Sn,C as jn,r as Gn,g as Hn,j as rn,k as sn,l as ln,m as Kn,n as Y,o as On,c as Vn,s as hn,i as Yn,h as Un}from"./transform-Dm26MUf-.js";function G(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Jn(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Pn(n){let t,r,e;n.length!==2?(t=G,r=(f,c)=>G(n(f),c),e=(f,c)=>n(f)-c):(t=n===G||n===Jn?n:Qn,r=n,e=n);function i(f,c,u=0,l=f.length){if(u<l){if(t(c,c)!==0)return l;do{const s=u+l>>>1;r(f[s],c)<0?u=s+1:l=s}while(u<l)}return u}function a(f,c,u=0,l=f.length){if(u<l){if(t(c,c)!==0)return l;do{const s=u+l>>>1;r(f[s],c)<=0?u=s+1:l=s}while(u<l)}return u}function o(f,c,u=0,l=f.length){const s=i(f,c,u,l-1);return s>u&&e(f[s-1],c)>-e(f[s],c)?s-1:s}return{left:i,center:o,right:a}}function Qn(){return 0}function Bn(n){return n===null?NaN:+n}const nt=Pn(G),tt=nt.right;Pn(Bn).center;const rt=Math.sqrt(50),et=Math.sqrt(10),it=Math.sqrt(2);function H(n,t,r){const e=(t-n)/Math.max(0,r),i=Math.floor(Math.log10(e)),a=e/Math.pow(10,i),o=a>=rt?10:a>=et?5:a>=it?2:1;let f,c,u;return i<0?(u=Math.pow(10,-i)/o,f=Math.round(n*u),c=Math.round(t*u),f/u<n&&++f,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,f=Math.round(n/u),c=Math.round(t/u),f*u<n&&++f,c*u>t&&--c),c<f&&.5<=r&&r<2?H(n,t,r*2):[f,c,u]}function at(n,t,r){if(t=+t,n=+n,r=+r,!(r>0))return[];if(n===t)return[n];const e=t<n,[i,a,o]=e?H(t,n,r):H(n,t,r);if(!(a>=i))return[];const f=a-i+1,c=new Array(f);if(e)if(o<0)for(let u=0;u<f;++u)c[u]=(a-u)/-o;else for(let u=0;u<f;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<f;++u)c[u]=(i+u)/-o;else for(let u=0;u<f;++u)c[u]=(i+u)*o;return c}function en(n,t,r){return t=+t,n=+n,r=+r,H(n,t,r)[2]}function ut(n,t,r){t=+t,n=+n,r=+r;const e=t<n,i=e?en(t,n,r):en(n,t,r);return(e?-1:1)*(i<0?1/-i:i)}const ot=Math.PI/180,ft=180/Math.PI,K=18,_n=.96422,Rn=1,Cn=.82521,qn=4/29,q=6/29,En=3*q*q,ct=q*q*q;function Fn(n){if(n instanceof b)return new b(n.l,n.a,n.b,n.opacity);if(n instanceof A)return In(n);n instanceof Sn||(n=Gn(n));var t=B(n.r),r=B(n.g),e=B(n.b),i=U((.2225045*t+.7168786*r+.0606169*e)/Rn),a,o;return t===r&&r===e?a=o=i:(a=U((.4360747*t+.3850649*r+.1430804*e)/_n),o=U((.0139322*t+.0971045*r+.7141733*e)/Cn)),new b(116*i-16,500*(a-i),200*(i-o),n.opacity)}function st(n,t,r,e){return arguments.length===1?Fn(n):new b(n,t,r,e??1)}function b(n,t,r,e){this.l=+n,this.a=+t,this.b=+r,this.opacity=+e}$n(b,st,zn(jn,{brighter(n){return new b(this.l+K*(n??1),this.a,this.b,this.opacity)},darker(n){return new b(this.l-K*(n??1),this.a,this.b,this.opacity)},rgb(){var n=(this.l+16)/116,t=isNaN(this.a)?n:n+this.a/500,r=isNaN(this.b)?n:n-this.b/200;return t=_n*J(t),n=Rn*J(n),r=Cn*J(r),new Sn(Q(3.1338561*t-1.6168667*n-.4906146*r),Q(-.9787684*t+1.9161415*n+.033454*r),Q(.0719453*t-.2289914*n+1.4052427*r),this.opacity)}}));function U(n){return n>ct?Math.pow(n,1/3):n/En+qn}function J(n){return n>q?n*n*n:En*(n-qn)}function Q(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function B(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function lt(n){if(n instanceof A)return new A(n.h,n.c,n.l,n.opacity);if(n instanceof b||(n=Fn(n)),n.a===0&&n.b===0)return new A(NaN,0<n.l&&n.l<100?0:NaN,n.l,n.opacity);var t=Math.atan2(n.b,n.a)*ft;return new A(t<0?t+360:t,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function an(n,t,r,e){return arguments.length===1?lt(n):new A(n,t,r,e??1)}function A(n,t,r,e){this.h=+n,this.c=+t,this.l=+r,this.opacity=+e}function In(n){if(isNaN(n.h))return new b(n.l,0,0,n.opacity);var t=n.h*ot;return new b(n.l,Math.cos(t)*n.c,Math.sin(t)*n.c,n.opacity)}$n(A,an,zn(jn,{brighter(n){return new A(this.h,this.c,this.l+K*(n??1),this.opacity)},darker(n){return new A(this.h,this.c,this.l-K*(n??1),this.opacity)},rgb(){return In(this).rgb()}}));function ht(n,t){t||(t=[]);var r=n?Math.min(t.length,n.length):0,e=t.slice(),i;return function(a){for(i=0;i<r;++i)e[i]=n[i]*(1-a)+t[i]*a;return e}}function dt(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function mt(n,t){var r=t?t.length:0,e=n?Math.min(r,n.length):0,i=new Array(e),a=new Array(r),o;for(o=0;o<e;++o)i[o]=on(n[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(f){for(o=0;o<e;++o)a[o]=i[o](f);return a}}function yt(n,t){var r=new Date;return n=+n,t=+t,function(e){return r.setTime(n*(1-e)+t*e),r}}function gt(n,t){var r={},e={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?r[i]=on(n[i],t[i]):e[i]=t[i];return function(a){for(i in r)e[i]=r[i](a);return e}}function on(n,t){var r=typeof t,e;return t==null||r==="boolean"?Hn(t):(r==="number"?rn:r==="string"?(e=sn(t))?(t=e,ln):Kn:t instanceof sn?ln:t instanceof Date?yt:dt(t)?ht:Array.isArray(t)?mt:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gt:rn)(n,t)}function pt(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function xt(n){return function(t,r){var e=n((t=an(t)).h,(r=an(r)).h),i=Y(t.c,r.c),a=Y(t.l,r.l),o=Y(t.opacity,r.opacity);return function(f){return t.h=e(f),t.c=i(f),t.l=a(f),t.opacity=o(f),t+""}}}const wt=xt(On);function Mt(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function O(n,t){if((r=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var r,e=n.slice(0,r);return[e.length>1?e[0]+e.slice(2):e,+n.slice(r+1)]}function E(n){return n=O(Math.abs(n)),n?n[1]:NaN}function vt(n,t){return function(r,e){for(var i=r.length,a=[],o=0,f=n[0],c=0;i>0&&f>0&&(c+f+1>e&&(f=Math.max(1,e-c)),a.push(r.substring(i-=f,i+f)),!((c+=f+1)>e));)f=n[o=(o+1)%n.length];return a.reverse().join(t)}}function kt(n){return function(t){return t.replace(/[0-9]/g,function(r){return n[+r]})}}var bt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function V(n){if(!(t=bt.exec(n)))throw new Error("invalid format: "+n);var t;return new fn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}V.prototype=fn.prototype;function fn(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}fn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nt(n){n:for(var t=n.length,r=1,e=-1,i;r<t;++r)switch(n[r]){case".":e=i=r;break;case"0":e===0&&(e=r),i=r;break;default:if(!+n[r])break n;e>0&&(e=0);break}return e>0?n.slice(0,e)+n.slice(i+1):n}var Ln;function At(n,t){var r=O(n,t);if(!r)return n+"";var e=r[0],i=r[1],a=i-(Ln=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=e.length;return a===o?e:a>o?e+new Array(a-o+1).join("0"):a>0?e.slice(0,a)+"."+e.slice(a):"0."+new Array(1-a).join("0")+O(n,Math.max(0,t+a-1))[0]}function dn(n,t){var r=O(n,t);if(!r)return n+"";var e=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+e:e.length>i+1?e.slice(0,i+1)+"."+e.slice(i+1):e+new Array(i-e.length+2).join("0")}const mn={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Mt,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>dn(n*100,t),r:dn,s:At,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function yn(n){return n}var gn=Array.prototype.map,pn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function $t(n){var t=n.grouping===void 0||n.thousands===void 0?yn:vt(gn.call(n.grouping,Number),n.thousands+""),r=n.currency===void 0?"":n.currency[0]+"",e=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?yn:kt(gn.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",f=n.minus===void 0?"−":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function u(s){s=V(s);var h=s.fill,m=s.align,y=s.sign,g=s.symbol,p=s.zero,M=s.width,$=s.comma,v=s.precision,F=s.trim,x=s.type;x==="n"?($=!0,x="g"):mn[x]||(v===void 0&&(v=12),F=!0,x="g"),(p||h==="0"&&m==="=")&&(p=!0,h="0",m="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",j=g==="$"?e:/[%p]/.test(x)?o:"",z=mn[x],P=/[defgprs%]/.test(x);v=v===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function _(d){var k=S,w=j,R,cn,L;if(x==="c")w=z(d)+w,d="";else{d=+d;var T=d<0||1/d<0;if(d=isNaN(d)?c:z(Math.abs(d),v),F&&(d=Nt(d)),T&&+d==0&&y!=="+"&&(T=!1),k=(T?y==="("?y:f:y==="-"||y==="("?"":y)+k,w=(x==="s"?pn[8+Ln/3]:"")+w+(T&&y==="("?")":""),P){for(R=-1,cn=d.length;++R<cn;)if(L=d.charCodeAt(R),48>L||L>57){w=(L===46?i+d.slice(R+1):d.slice(R))+w,d=d.slice(0,R);break}}}$&&!p&&(d=t(d,1/0));var D=k.length+d.length+w.length,N=D<M?new Array(M-D+1).join(h):"";switch($&&p&&(d=t(N+d,N.length?M-w.length:1/0),N=""),m){case"<":d=k+d+w+N;break;case"=":d=k+N+d+w;break;case"^":d=N.slice(0,D=N.length>>1)+k+d+w+N.slice(D);break;default:d=N+k+d+w;break}return a(d)}return _.toString=function(){return s+""},_}function l(s,h){var m=u((s=V(s),s.type="f",s)),y=Math.max(-8,Math.min(8,Math.floor(E(h)/3)))*3,g=Math.pow(10,-y),p=pn[8+y/3];return function(M){return m(g*M)+p}}return{format:u,formatPrefix:l}}var Z,Tn,Dn;zt({thousands:",",grouping:[3],currency:["$",""]});function zt(n){return Z=$t(n),Tn=Z.format,Dn=Z.formatPrefix,Z}function St(n){return Math.max(0,-E(Math.abs(n)))}function jt(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(E(t)/3)))*3-E(Math.abs(n)))}function Pt(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,E(t)-E(n))+1}function _t(n){return n==null?null:Rt(n)}function Rt(n){if(typeof n!="function")throw new Error;return n}function xn(){return 0}function Ct(n){return function(){return n}}const qt=1664525,Et=1013904223,wn=4294967296;function Ft(){let n=1;return()=>(n=(qt*n+Et)%wn)/wn}function It(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Lt(n,t){let r=n.length,e,i;for(;r;)i=t()*r--|0,e=n[r],n[r]=n[i],n[i]=e;return n}function Tt(n,t){for(var r=0,e=(n=Lt(Array.from(n),t)).length,i=[],a,o;r<e;)a=n[r],o&&Zn(o,a)?++r:(o=Zt(i=Dt(i,a)),r=0);return o}function Dt(n,t){var r,e;if(nn(t,n))return[t];for(r=0;r<n.length;++r)if(W(t,n[r])&&nn(I(n[r],t),n))return[n[r],t];for(r=0;r<n.length-1;++r)for(e=r+1;e<n.length;++e)if(W(I(n[r],n[e]),t)&&W(I(n[r],t),n[e])&&W(I(n[e],t),n[r])&&nn(Wn(n[r],n[e],t),n))return[n[r],n[e],t];throw new Error}function W(n,t){var r=n.r-t.r,e=t.x-n.x,i=t.y-n.y;return r<0||r*r<e*e+i*i}function Zn(n,t){var r=n.r-t.r+Math.max(n.r,t.r,1)*1e-9,e=t.x-n.x,i=t.y-n.y;return r>0&&r*r>e*e+i*i}function nn(n,t){for(var r=0;r<t.length;++r)if(!Zn(n,t[r]))return!1;return!0}function Zt(n){switch(n.length){case 1:return Wt(n[0]);case 2:return I(n[0],n[1]);case 3:return Wn(n[0],n[1],n[2])}}function Wt(n){return{x:n.x,y:n.y,r:n.r}}function I(n,t){var r=n.x,e=n.y,i=n.r,a=t.x,o=t.y,f=t.r,c=a-r,u=o-e,l=f-i,s=Math.sqrt(c*c+u*u);return{x:(r+a+c/s*l)/2,y:(e+o+u/s*l)/2,r:(s+i+f)/2}}function Wn(n,t,r){var e=n.x,i=n.y,a=n.r,o=t.x,f=t.y,c=t.r,u=r.x,l=r.y,s=r.r,h=e-o,m=e-u,y=i-f,g=i-l,p=c-a,M=s-a,$=e*e+i*i-a*a,v=$-o*o-f*f+c*c,F=$-u*u-l*l+s*s,x=m*y-h*g,S=(y*F-g*v)/(x*2)-e,j=(g*p-y*M)/x,z=(m*v-h*F)/(x*2)-i,P=(h*M-m*p)/x,_=j*j+P*P-1,d=2*(a+S*j+z*P),k=S*S+z*z-a*a,w=-(Math.abs(_)>1e-6?(d+Math.sqrt(d*d-4*_*k))/(2*_):k/d);return{x:e+S+j*w,y:i+z+P*w,r:w}}function Mn(n,t,r){var e=n.x-t.x,i,a,o=n.y-t.y,f,c,u=e*e+o*o;u?(a=t.r+r.r,a*=a,c=n.r+r.r,c*=c,a>c?(i=(u+c-a)/(2*u),f=Math.sqrt(Math.max(0,c/u-i*i)),r.x=n.x-i*e-f*o,r.y=n.y-i*o+f*e):(i=(u+a-c)/(2*u),f=Math.sqrt(Math.max(0,a/u-i*i)),r.x=t.x+i*e-f*o,r.y=t.y+i*o+f*e)):(r.x=t.x+r.r,r.y=t.y)}function vn(n,t){var r=n.r+t.r-1e-6,e=t.x-n.x,i=t.y-n.y;return r>0&&r*r>e*e+i*i}function kn(n){var t=n._,r=n.next._,e=t.r+r.r,i=(t.x*r.r+r.x*t.r)/e,a=(t.y*r.r+r.y*t.r)/e;return i*i+a*a}function X(n){this._=n,this.next=null,this.previous=null}function Xt(n,t){if(!(a=(n=It(n)).length))return 0;var r,e,i,a,o,f,c,u,l,s,h;if(r=n[0],r.x=0,r.y=0,!(a>1))return r.r;if(e=n[1],r.x=-e.r,e.x=r.r,e.y=0,!(a>2))return r.r+e.r;Mn(e,r,i=n[2]),r=new X(r),e=new X(e),i=new X(i),r.next=i.previous=e,e.next=r.previous=i,i.next=e.previous=r;n:for(c=3;c<a;++c){Mn(r._,e._,i=n[c]),i=new X(i),u=e.next,l=r.previous,s=e._.r,h=r._.r;do if(s<=h){if(vn(u._,i._)){e=u,r.next=e,e.previous=r,--c;continue n}s+=u._.r,u=u.next}else{if(vn(l._,i._)){r=l,r.next=e,e.previous=r,--c;continue n}h+=l._.r,l=l.previous}while(u!==l.next);for(i.previous=r,i.next=e,r.next=e.previous=e=i,o=kn(r);(i=i.next)!==e;)(f=kn(i))<o&&(r=i,o=f);e=r.next}for(r=[e._],i=e;(i=i.next)!==e;)r.push(i._);for(i=Tt(r,t),c=0;c<a;++c)r=n[c],r.x-=i.x,r.y-=i.y;return i.r}function Gt(n){return Math.sqrt(n.value)}function Ht(){var n=null,t=1,r=1,e=xn;function i(a){const o=Ft();return a.x=t/2,a.y=r/2,n?a.eachBefore(bn(n)).eachAfter(tn(e,.5,o)).eachBefore(Nn(1)):a.eachBefore(bn(Gt)).eachAfter(tn(xn,1,o)).eachAfter(tn(e,a.r/Math.min(t,r),o)).eachBefore(Nn(Math.min(t,r)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(n=_t(a),i):n},i.size=function(a){return arguments.length?(t=+a[0],r=+a[1],i):[t,r]},i.padding=function(a){return arguments.length?(e=typeof a=="function"?a:Ct(+a),i):e},i}function bn(n){return function(t){t.children||(t.r=Math.max(0,+n(t)||0))}}function tn(n,t,r){return function(e){if(i=e.children){var i,a,o=i.length,f=n(e)*t||0,c;if(f)for(a=0;a<o;++a)i[a].r+=f;if(c=Xt(i,r),f)for(a=0;a<o;++a)i[a].r-=f;e.r=c+f}}}function Nn(n){return function(t){var r=t.parent;t.r*=n,r&&(t.x=r.x+n*t.x,t.y=r.y+n*t.y)}}function Kt(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function Ot(n){return function(){return n}}function Vt(n){return+n}var An=[0,1];function C(n){return n}function un(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:Ot(isNaN(t)?NaN:.5)}function Yt(n,t){var r;return n>t&&(r=n,n=t,t=r),function(e){return Math.max(n,Math.min(t,e))}}function Ut(n,t,r){var e=n[0],i=n[1],a=t[0],o=t[1];return i<e?(e=un(i,e),a=r(o,a)):(e=un(e,i),a=r(a,o)),function(f){return a(e(f))}}function Jt(n,t,r){var e=Math.min(n.length,t.length)-1,i=new Array(e),a=new Array(e),o=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<e;)i[o]=un(n[o],n[o+1]),a[o]=r(t[o],t[o+1]);return function(f){var c=tt(n,f,1,e)-1;return a[c](i[c](f))}}function Qt(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Bt(){var n=An,t=An,r=on,e,i,a,o=C,f,c,u;function l(){var h=Math.min(n.length,t.length);return o!==C&&(o=Yt(n[0],n[h-1])),f=h>2?Jt:Ut,c=u=null,s}function s(h){return h==null||isNaN(h=+h)?a:(c||(c=f(n.map(e),t,r)))(e(o(h)))}return s.invert=function(h){return o(i((u||(u=f(t,n.map(e),rn)))(h)))},s.domain=function(h){return arguments.length?(n=Array.from(h,Vt),l()):n.slice()},s.range=function(h){return arguments.length?(t=Array.from(h),l()):t.slice()},s.rangeRound=function(h){return t=Array.from(h),r=pt,l()},s.clamp=function(h){return arguments.length?(o=h?!0:C,l()):o!==C},s.interpolate=function(h){return arguments.length?(r=h,l()):r},s.unknown=function(h){return arguments.length?(a=h,s):a},function(h,m){return e=h,i=m,l()}}function nr(){return Bt()(C,C)}function tr(n,t,r,e){var i=ut(n,t,r),a;switch(e=V(e??",f"),e.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(t));return e.precision==null&&!isNaN(a=jt(i,o))&&(e.precision=a),Dn(e,o)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(a=Pt(i,Math.max(Math.abs(n),Math.abs(t))))&&(e.precision=a-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(a=St(i))&&(e.precision=a-(e.type==="%")*2);break}}return Tn(e)}function rr(n){var t=n.domain;return n.ticks=function(r){var e=t();return at(e[0],e[e.length-1],r??10)},n.tickFormat=function(r,e){var i=t();return tr(i[0],i[i.length-1],r??10,e)},n.nice=function(r){r==null&&(r=10);var e=t(),i=0,a=e.length-1,o=e[i],f=e[a],c,u,l=10;for(f<o&&(u=o,o=f,f=u,u=i,i=a,a=u);l-- >0;){if(u=en(o,f,r),u===c)return e[i]=o,e[a]=f,t(e);if(u>0)o=Math.floor(o/u)*u,f=Math.ceil(f/u)*u;else if(u<0)o=Math.ceil(o*u)/u,f=Math.floor(f*u)/u;else break;c=u}return n},n}function Xn(){var n=nr();return n.copy=function(){return Qt(n,Xn())},Kt.apply(n,arguments),rr(n)}const ir=n=>{const t=window.innerWidth*.9,r=window.innerHeight*.9,e=Xn().domain([0,5]).range(["hsl(152,80%,80%)","hsl(228,30%,40%)"]).interpolate(wt),a=(m=>Ht().size([t,r]).padding(3)(Un(m).sum(y=>y.lines??0).sort((y,g)=>g.lines??0-y.lines??0)))(n.data),o=Vn("svg").attr("viewBox",`-${t} -${r} ${2*t} ${2*r}`).attr("width",t).attr("height",r).attr("style",`max-width: 100%; height: auto; display: block; margin: 0 -14px; background: ${e(0)}; cursor: pointer;`),f=o.append("g").selectAll("circle").data(a.descendants().slice(1)).join("circle").attr("fill",m=>m.children?e(m.depth):"white").attr("pointer-events",m=>m.children?null:"none").on("mouseover",function(){hn(this).attr("stroke","#000")}).on("mouseout",function(){hn(this).attr("stroke",null)}).on("click",(m,y)=>u!==y&&(h(m,y),m.stopPropagation())),c=o.append("g").style("font","20px sans-serif").style("padding","2px").style("background","white").attr("pointer-events","none").attr("text-anchor","middle").selectAll("text").data(a.descendants()).join("text").style("fill-opacity",0).style("display",m=>m.parent===a?"inline":"none").text(m=>m.data.name);o.on("click",m=>h(m,a));let u=a,l;s([u.x,u.y,u.r*2]);function s(m){const y=t/m[2];l=m,c.attr("transform",g=>`translate(${(g.x-m[0])*y},${(g.y-m[1])*y})`),f.attr("transform",g=>`translate(${(g.x-m[0])*y},${(g.y-m[1])*y})`),f.attr("r",g=>g.r*y)}function h(m,y){u=y;const g=o.transition().duration(m.altKey?7500:750).tween("zoom",p=>{const M=Yn(l,[u.x,u.y,u.r*2]);return $=>s(M($))});c.filter(function(p){return p.parent===u||this.style.display==="inline"}).transition(g).style("fill-opacity",p=>p.parent===u?1:0).on("start",function(p){p.parent===u&&(this.style.display="inline")}).on("end",function(p){p.parent!==u&&(this.style.display="none")})}return o.node()};export{ir as default};
